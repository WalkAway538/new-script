-- Made by WalkAway538 & ChatGPT - Custom Hub All-in-One

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local mouse = player:GetMouse()

-- Loading UI
local loading = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
loading.Name = "LoadingUI"
local loadText = Instance.new("TextLabel", loading)
loadText.Size = UDim2.new(1, 0, 1, 0)
loadText.BackgroundTransparency = 1
loadText.Text = "Loading HUB..."
loadText.TextColor3 = Color3.new(1, 1, 1)
loadText.Font = Enum.Font.SourceSansBold
loadText.TextScaled = true

wait(2)
loading:Destroy()

-- === Main UI ===
local screenGui = Instance.new("ScreenGui", player.PlayerGui)
screenGui.Name = "CustomHub"

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 300, 0, 400)
mainFrame.Position = UDim2.new(0.3, 0, 0.2, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.BorderSizePixel = 0

local uilist = Instance.new("UIListLayout", mainFrame)
uilist.Padding = UDim.new(0, 8)
uilist.SortOrder = Enum.SortOrder.LayoutOrder

-- Minimize Button
local minimizeBtn = Instance.new("TextButton", mainFrame)
minimizeBtn.Size = UDim2.new(0, 30, 0, 30)
minimizeBtn.Position = UDim2.new(1, -60, 0, 0)
minimizeBtn.Text = "-"
minimizeBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
minimizeBtn.TextColor3 = Color3.new(1, 1, 1)
minimizeBtn.Font = Enum.Font.SourceSansBold
minimizeBtn.TextScaled = true

-- Close Button
local closeBtn = Instance.new("TextButton", mainFrame)
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -30, 0, 0)
closeBtn.Text = "X"
closeBtn.BackgroundColor3 = Color3.fromRGB(100, 0, 0)
closeBtn.TextColor3 = Color3.new(1, 1, 1)
closeBtn.Font = Enum.Font.SourceSansBold
closeBtn.TextScaled = true

closeBtn.MouseButton1Click:Connect(function()
	screenGui:Destroy()
end)

-- Logo Frame (for minimized)
local logo = Instance.new("ImageButton")
logo.Image = "rbxassetid://80983298415431"
logo.Size = UDim2.new(0, 50, 0, 50)
logo.Position = UDim2.new(0.5, -25, 0.5, -25)
logo.BackgroundTransparency = 1
logo.Visible = false
logo.Parent = screenGui
logo.Active = true
logo.Draggable = true

minimizeBtn.MouseButton1Click:Connect(function()
	mainFrame.Visible = false
	logo.Visible = true
end)

logo.MouseButton1Click:Connect(function()
	mainFrame.Visible = true
	logo.Visible = false
end)

-- Toggle Util
local function makeToggle(name, callback)
	local button = Instance.new("TextButton", mainFrame)
	button.Size = UDim2.new(1, -20, 0, 40)
	button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.SourceSansBold
	button.TextSize = 18
	button.Text = name .. ": OFF"

	local state = false

	button.MouseButton1Click:Connect(function()
		state = not state
		button.Text = name .. (state and ": ON" or ": OFF")
		button.BackgroundColor3 = state and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(60, 60, 60)
		callback(state)
	end)
end

-- === Features ===
makeToggle("Fly", function(enabled)
	if enabled then
		local bv = Instance.new("BodyVelocity")
		bv.Name = "FlyForce"
		bv.Velocity = Vector3.zero
		bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
		bv.Parent = character:WaitForChild("HumanoidRootPart")

		game:GetService("RunService").Heartbeat:Connect(function()
			if bv and bv.Parent then
				local vel = Vector3.new(
					(mouse.KeyDown:FindFirstChild("W") and 1 or 0) - (mouse.KeyDown:FindFirstChild("S") and 1 or 0),
					(mouse.KeyDown:FindFirstChild("Space") and 1 or 0) - (mouse.KeyDown:FindFirstChild("LeftShift") and 1 or 0),
					(mouse.KeyDown:FindFirstChild("D") and 1 or 0) - (mouse.KeyDown:FindFirstChild("A") and 1 or 0)
				)
				bv.Velocity = vel * 50
			end
		end)
	else
		local force = character.HumanoidRootPart:FindFirstChild("FlyForce")
		if force then force:Destroy() end
	end
end)

makeToggle("Speed", function(enabled)
	local hum = character:FindFirstChildOfClass("Humanoid")
	if hum then
		hum.WalkSpeed = enabled and 80 or 16
	end
end)

makeToggle("Anti-Fling", function(enabled)
	local hrp = character:WaitForChild("HumanoidRootPart")
	if enabled then
		local v = Instance.new("BodyVelocity", hrp)
		v.Name = "AntiFling"
		v.Velocity = Vector3.zero
		v.MaxForce = Vector3.new(1e5, 1e5, 1e5)
	else
		local old = hrp:FindFirstChild("AntiFling")
		if old then old:Destroy() end
	end
end)

makeToggle("NoClip", function(enabled)
	local noclipConn
	noclipConn = game:GetService("RunService").Stepped:Connect(function()
		if enabled and character then
			for _, part in pairs(character:GetDescendants()) do
				if part:IsA("BasePart") and part.CanCollide then
					part.CanCollide = false
				end
			end
		end
	end)
end)

makeToggle("Auto Jump", function(enabled)
	local hum = character:FindFirstChildOfClass("Humanoid")
	if enabled then
		hum:SetStateEnabled(Enum.HumanoidStateType.Jumping, true)
		hum.Jump = true
		while enabled and hum and hum.Parent do
			wait(0.1)
			hum.Jump = true
		end
	end
end)
